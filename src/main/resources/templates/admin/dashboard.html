<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.84.0">
    <title>Admin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js" integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous"></script>

<meta name="theme-color" content="#7952b3">


    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }
      
      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
      body {
        font-size: .875rem;
      }
      
      .feather {
        width: 16px;
        height: 16px;
        vertical-align: text-bottom;
      }
      
      /*
       * Sidebar
       */
      
      .sidebar {
        position: fixed;
        top: 0;
        /* rtl:raw:
        right: 0;
        */
        bottom: 0;
        /* rtl:remove */
        left: 0;
        z-index: 100; /* Behind the navbar */
        padding: 48px 0 0; /* Height of navbar */
        box-shadow: inset -1px 0 0 rgba(0, 0, 0, .1);
      }
      
      @media (max-width: 767.98px) {
        .sidebar {
          top: 5rem;
        }
      }
      
      .sidebar-sticky {
        position: relative;
        top: 0;
        height: calc(100vh - 48px);
        padding-top: .5rem;
        overflow-x: hidden;
        overflow-y: auto; /* Scrollable contents if viewport is shorter than content. */
      }
      
      .sidebar .nav-link {
        font-weight: 500;
        color: #333;
      }
      
      .sidebar .nav-link .feather {
        margin-right: 4px;
        color: #727272;
      }
      
      .sidebar .nav-link.active {
        color: #2470dc;
      }
      
      .sidebar .nav-link:hover .feather,
      .sidebar .nav-link.active .feather {
        color: inherit;
      }
      
      .sidebar-heading {
        font-size: .75rem;
        text-transform: uppercase;
      }
      
      /*
       * Navbar
       */
      
      .navbar-brand {
        padding-top: .75rem;
        padding-bottom: .75rem;
        font-size: 1rem;
        background-color: rgba(0, 0, 0, .25);
        box-shadow: inset -1px 0 0 rgba(0, 0, 0, .25);
      }
      
      .navbar .navbar-toggler {
        top: .25rem;
        right: 1rem;
      }
      
      .navbar .form-control {
        padding: .75rem 1rem;
        border-width: 0;
        border-radius: 0;
      }
      
      .form-control-dark {
        color: #fff;
        background-color: rgba(255, 255, 255, .1);
        border-color: rgba(255, 255, 255, .1);
      }
      .form-control-dark:focus {
        border-color: transparent;
        box-shadow: 0 0 0 3px rgba(255, 255, 255, .25);
      }
      div{
        width: auto;height:auto;
      }
      .ticket_sum{
        margin-top: 100px;
      }
      .charts1{
        display:grid;
        grid-template-columns:1fr 1fr;
        gap:10px;
        margin-top:2px;
      }
      .charts-card{
        background-color: #eff3e2;
        margin-bottom:0px;
        padding:25px;
        box-sizing: border-box;
        -webkit-column-break-inside:avoid;
        border-radius: 15px;
        box-shadow: 0 6px 7px -4px rgba(0, 0, 0, 0.2);
      }
      .chart-title{
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 22px;
        font-weight: 400;
      }
    </style>
    
  </head>
  <body>
    
<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
  <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 text-center" href="#" style="font-size: 20px;">Admin</a>
  <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  
  <div class="navbar-nav">
    <div class="nav-item text-nowrap">
      <a class="nav-link px-3" href="/admin/logout">Sign out</a>
    </div>
  </div>
</header>

<div class="container-fluid">
  <div class="row">
    <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
      <div class="position-sticky pt-3">
        <ul class="nav flex-column">

         
          <li class="nav-item">
            <p class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted" style="font-size: 20px;">
              <a class="nav-link  active" th:href="@{/admin/dashboard/}">Dashboard</a>
            </p>
          </li>

          <li class="nav-item">
            <p class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted" style="font-size: 20px;">
              <a class="nav-link" th:href="@{/admin/enquiries/}">Ticketing System</a>
            </p>
          </li>

          <li class="nav-item">
            <p class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted"
              style="font-size: 20px;">
              <a  class="nav-link " th:href="@{'/admin/managefixeddeposits'}">Bank Fixed Deposits</a>
            </p>
          </li>

        </ul>
      </div>
    </nav>

    <!-- main section -->
    <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4 pt-5">
        <style>
            .bd-placeholder-img {
              font-size: 1.125rem;
              text-anchor: middle;
              -webkit-user-select: none;
              -moz-user-select: none;
              -ms-user-select: none;
              user-select: none;
            }
      
            @media (min-width: 768px) {
              .bd-placeholder-img-lg {
                font-size: 3.5rem;
              }
            }
          </style>
          <!-- Custom styles for this template -->
          <link href="dashboard.css" rel="stylesheet">
        </head>
      
        <div class="charts">
          <div class="charts-card">
          <h3 class="chart-title">&nbsp;&nbsp;&nbsp;&nbsp;Rating Statistics</h3>
            <div id="container" style="height: 350px;margin:0">
                <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/echarts@5.4.1/dist/echarts.min.js"></script>
                <script type="text/javascript" th:inline="javascript">
                  var val5 = [[${rate5}]];
                  var val4 = [[${rate4}]];
                  var val3 = [[${rate3}]];
                  var val2 = [[${rate2}]];
                  var val1 = [[${rate1}]];
                  var currMonth = [[${#dates.format(new java.util.Date().getTime(), 'yyyy-MM')}]]


                  var dom = document.getElementById('container');
                  var myChart = echarts.init(dom, null, {
                    renderer: 'canvas',
                    useDirtyRect: false
                  });
                  var app = {};                 
                  var option;   
                  option = {
                title: {
                  text: currMonth,
                  left: 'center'
                },
                tooltip: {
                  trigger: 'item'
                },
                legend: {
                  orient: 'vertical',
                  left: 'left'
                },
                series: [
                  {
                    name: 'Rating' ,
                    type: 'pie',
                    radius: '65%',
                    data: [
                      { value: 1048, name: '5 Stars' },
                      { value: 735, name: '4 Stars' },
                      { value: 580, name: '3 Stars' },
                      { value: 484, name: '2 Stars' },
                      { value: 300, name: '1 Star' }
                    ],
                    emphasis: {
                      itemStyle: {
                        shadowBlur: 10,
                        shadowOffsetX: 0,
                        shadowColor: 'rgba(0, 0, 0, 0.5)'
                      }
                    }
                  }
                ]
              };
              
              if (option && typeof option === 'object') {
                    myChart.setOption(option);
                  }    
                  window.addEventListener('resize', myChart.resize);
            </script>
      </div>

      <!-- [[${#dates.format(new java.util.Date().getTime(), 'yyyy-MM-dd hh:mm:ss')}]] -->

  
    <HR style="FILTER: alpha(opacity=100,finishopacity=0,style=3)" width="100%" color=#987cb9 SIZE=2> 

              <div class="charts">
                <div class="charts-card">
                  <h3 class="chart-title">Tickets Statistics</h3>
                  <div id="cont1" style="height: 350px;margin:0">
        <script type="text/javascript" src="https://fastly.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"></script> 
        <!-- <script type="text/javascript" src="js/echarts1.min.js"></script> -->
        <script type="text/javascript">
          var dom = document.getElementById('cont1');
          var myChart = echarts.init(dom, null, {
            renderer: 'canvas',
            useDirtyRect: false
          });
          var app = {};
          var option;

          var openTik = [[${openSum}]];
          var closeTik = [[${closeSum}]];
          var totalTik = [[${total}]];
          
          option = {
            title: {
                  text: currMonth,
                  left: 'center'
                },  
        xAxis: {
          data: ['Open Tickets', 'Closed Tickets', 'Total Tickets']
        },
        yAxis: {},
        dataGroupId: '',
        animationDurationUpdate: 500,
        tooltip: {
                  trigger: 'item'
                },
                legend: {
                  orient: 'vertical',
                  left: 'left'
                },
        series: {
          type: 'bar',
          id: 'tickets',
          data: [
            {
              value: openTik,
              groupId: 'open'
            },
            {
              value: closeTik,
              groupId: 'close'
            },
            {
              value: totalTik,
              groupId: 'total'
            }
          ],
          universalTransition: {
            enabled: true,
            divideShape: 'clone'
          }
        }
      };
      myChart.on('click', function (event) {
        if (event.data) {
          var subData = drilldownData.find(function (data) {
            return data.dataGroupId === event.data.groupId;
          });
          if (!subData) {
            return;
          }
          myChart.setOption({
            xAxis: {
              data: subData.data.map(function (item) {
                return item[0];
              })
            },
            series: {
              type: 'bar',
              id: 'tickets',
              dataGroupId: subData.dataGroupId,
              data: subData.data.map(function (item) {
                return item[1];
              }),
              universalTransition: {
                enabled: true,
                divideShape: 'clone'
              }
            },
            graphic: [
              {
                type: 'text',
                left: 50,
                top: 20,
                style: {
                  text: 'Back',
                  fontSize: 20
                },
                onclick: function () {
                  myChart.setOption(option);
                }
              }
            ]
          });
        }
      });
      
          if (option && typeof option === 'object') {
            myChart.setOption(option);
          }
      
          window.addEventListener('resize', myChart.resize);
        </script>
</div>

</html>
